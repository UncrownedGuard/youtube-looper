<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loop YouTube Video</title>
</head>
<body>
    <h1>Loop a YouTube Video</h1>
    <form id="videoForm">
        <label for="youtube_url">Paste YouTube URL:</label><br>
        <input type="text" id="youtube_url" name="youtube_url" required><br>
        <input type="submit" value="Loop Video">
    </form>

    <div id="videoContainer" style="margin-top: 20px;">
        <!-- The video will be embedded here -->
    </div>

    <script>
        document.getElementById('videoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            var url = document.getElementById('youtube_url').value;
            var videoId = getYouTubeVideoId(url);
            
            if (videoId) {
                var iframe = `<iframe width="560" height="315" 
                              src="https://www.youtube.com/embed/${videoId}?autoplay=1&loop=1&playlist=${videoId}" 
                              frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" 
                              allowfullscreen></iframe>`;
                document.getElementById('videoContainer').innerHTML = iframe;
            } else {
                alert('Invalid YouTube URL');
            }
        });

        function getYouTubeVideoId(url) {
            var regex = /(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*\?v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
            var match = url.match(regex);
            return match ? match[1] : null;
        }
    </script>
</body>
</html>
